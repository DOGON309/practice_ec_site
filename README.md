# ECサイトの設計書

## **ECサイト設計書**

### 1. **プロジェクト概要**

- **目的**: ユーザーが商品を閲覧し、ショッピングカートに追加して購入できるECサイトを構築する。
- **対象ユーザー**: 一般消費者。
- **主な機能**:
    - 商品閲覧
    - カート機能
    - 購入処理
    - ユーザー認証（ログイン・登録）
    - 管理者による商品管理

---

### 2. **機能一覧**

### **一般ユーザー**

1. ユーザー登録・ログイン・ログアウト
2. 商品一覧表示
3. 商品詳細ページの閲覧
4. 商品検索機能
5. ショッピングカート
6. 注文履歴の閲覧

### **管理者**

1. 商品の登録・編集・削除
2. 注文状況の管理

---

### 3. **画面構成**

| ページ名 | 機能概要 |
| --- | --- |
| ホームページ | 商品のピックアップやカテゴリ一覧を表示 |
| 商品一覧ページ | 全商品またはカテゴリ別の商品のリストを表示 |
| 商品詳細ページ | 選択した商品の詳細情報（価格、説明、在庫など）を表示し、カートに追加するボタンを設置 |
| カートページ | カート内の商品のリストと購入手続きへのリンクを表示 |
| ユーザー登録ページ | 新規ユーザーの登録フォーム |
| ログインページ | ユーザーがログインするためのフォーム |
| 注文履歴ページ | ユーザーが過去に注文した内容を表示 |
| 管理画面 | 管理者が商品や注文の管理を行う画面 |

---

### 4. **データベース設計**

### **テーブル構成**

1. **ユーザー（User）**
    - ID (Primary Key)
    - ユーザー名 (username)
    - メールアドレス (email)
    - パスワード (password)
    - 登録日 (created_at)
2. **商品（Product）**
    - ID (Primary Key)
    - 商品名 (name)
    - 説明 (description)
    - 価格 (price)
    - 在庫数 (stock)
    - カテゴリ (category)
    - 作成日 (created_at)
3. **注文（Order）**
    - ID (Primary Key)
    - ユーザーID (user, Foreign Key)
    - 注文日 (order_date)
    - 合計金額 (total_price)
    - 状態 (status: 新規/発送済みなど)
4. **注文詳細（OrderItem）**
    - ID (Primary Key)
    - 注文ID (order, Foreign Key)
    - 商品ID (product, Foreign Key)
    - 数量 (quantity)
    - 小計 (subtotal)
5. **カート（Cart）**
    - ID (Primary Key)
    - ユーザーID (user, Foreign Key)
    - 商品ID (product, Foreign Key)
    - 数量 (quantity)

---

### 5. **URL設計**

| URLパス | メソッド | 機能概要 |
| --- | --- | --- |
| `/` | GET | ホームページ |
| `/products/` | GET | 商品一覧ページ |
| `/products/<id>/` | GET | 商品詳細ページ |
| `/cart/` | GET/POST | カートページの表示・更新 |
| `/orders/` | GET | 注文履歴ページ |
| `/orders/<id>/` | GET | 注文詳細ページ |
| `/admin/products/` | GET/POST | 商品管理ページ |
| `/register/` | GET/POST | ユーザー登録ページ |
| `/login/` | GET/POST | ログインページ |
| `/logout/` | POST | ログアウト処理 |

---

### 6. **ワイヤーフレーム**

1. **ホームページ**
    - ナビゲーションバー: ログイン、カート、商品検索フォーム。
    - 商品ピックアップ: 人気商品やおすすめ商品を表示。
2. **商品一覧ページ**
    - 商品画像、商品名、価格をカード形式で一覧表示。
3. **商品詳細ページ**
    - 商品の大きな画像、詳細情報、カートに追加ボタン。
4. **カートページ**
    - カート内の商品リストと数量調整機能。

---

### 7. **技術スタック**

- **バックエンド**: Python 3.10.2, Django
- **データベース**: SQLite（開発時） / PostgreSQL（本番環境）
- **フロントエンド**: HTML, CSS, JavaScript（必要に応じてBootstrapやVue.jsを使用）
- **デプロイ**: Heroku または AWS

---

### 8. **開発スケジュール**

| 期間 | タスク |
| --- | --- |
| 1週目 | 環境構築、プロジェクトの初期設定 |
| 2週目 | モデル設計とCRUD機能の実装 |
| 3週目 | 認証機能の実装 |
| 4週目 | カート機能の実装 |
| 5週目 | 注文機能と管理画面の実装 |
| 6週目 | フロントエンドの仕上げとテスト |
| 7週目 | デプロイ |

---